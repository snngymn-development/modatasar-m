#!/bin/bash`n# Database Backup Script`n`nBACKUP_DIR="/backups"`nDB_NAME="appdb"`nDB_USER="app"`nDB_HOST="localhost"`nDATE=$(date +%Y%m%d_%H%M%S)`nBACKUP_FILE="$BACKUP_DIR/backup_$DATE.sql"`n`n# Create backup directory`nmkdir -p $BACKUP_DIR`n`n# Create database backup`npg_dump -h $DB_HOST -U $DB_USER $DB_NAME > $BACKUP_FILE`n`n# Compress backup`ngzip $BACKUP_FILE`n`n# Upload to S3/MinIO`naws s3 cp $BACKUP_FILE.gz s3://backup-bucket/database/`n`n# Clean old backups (keep 30 days)`nfind $BACKUP_DIR -name "backup_*.sql.gz" -mtime +30 -delete`n`necho "Backup completed: $BACKUP_FILE.gz"