groups: - name: api.rules rules: - alert: HighErrorRate expr: rate(http_request_errors_total[5m]) / rate(http_requests_total[5m]) > 0.02 for: 5m labels: severity: critical annotations: summary: "API error rate > 2%" - alert: HighLatency expr: histogram_quantile(0.95, rate(http_request_duration_seconds_bucket[5m])) > 0.8 for: 5m labels: severity: warning annotations: summary: "API p95 latency > 800ms" - alert: DatabaseConnectionFailure expr: increase(database_connection_errors_total[1m]) > 0 for: 1m labels: severity: critical annotations: summary: "Database connection failure detected"